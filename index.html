<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@assembless/react-native-material-you</title><meta name="description" content="Documentation for @assembless/react-native-material-you"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@assembless/react-native-material-you</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@assembless/react-native-material-you</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#react-native-material-you" id="react-native-material-you" style="color: inherit; text-decoration: none;">
  <h1>react-native-material-you</h1>
</a>
<p>Bring newest Android 12 feature <a href="https://material.io/blog/announcing-material-you">Material You</a> to your React Native app. This package enables you to use the from wallpaper generated colors in your app. </p>
<p><img src="https://i.imgur.com/fcdOyLs.png" alt="RNMY Thumbnail">
<img src="https://img.shields.io/npm/v/@assembless/react-native-material-you/latest?style=for-the-badge" alt="npm (tag)">
<img src="https://img.shields.io/github/issues-raw/assembless/react-native-material-you?style=for-the-badge" alt="GitHub issues">
<img src="https://img.shields.io/github/last-commit/assembless/react-native-material-you?style=for-the-badge" alt="GitHub last commit">
<img src="https://img.shields.io/npm/l/@assembless/react-native-material-you?style=for-the-badge" alt="NPM">
<img src="https://img.shields.io/npm/dt/@assembless/react-native-material-you?style=for-the-badge" alt="npm"></p>

<a href="#features" id="features" style="color: inherit; text-decoration: none;">
  <h2>Features</h2>
</a>
<ul>
<li>ü™ù Supports React hooks</li>
<li>‚ôªÔ∏è Refreshes palette when the wallpaper changes</li>
</ul>

<a href="#how-to-install" id="how-to-install" style="color: inherit; text-decoration: none;">
  <h2>How to install</h2>
</a>
<p><strong>Yarn</strong></p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> @</span><span class="hl-0">assembless</span><span class="hl-1">/</span><span class="hl-0">react</span><span class="hl-1">-</span><span class="hl-0">native</span><span class="hl-1">-</span><span class="hl-0">material</span><span class="hl-1">-</span><span class="hl-0">you</span>
</code></pre>
<p><strong>NPM</strong></p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">assembless</span><span class="hl-1">/</span><span class="hl-0">react</span><span class="hl-1">-</span><span class="hl-0">native</span><span class="hl-1">-</span><span class="hl-0">material</span><span class="hl-1">-</span><span class="hl-0">you</span>
</code></pre>

<a href="#how-to-use" id="how-to-use" style="color: inherit; text-decoration: none;">
  <h2>How to use</h2>
</a>

<a href="#react-context--hook" id="react-context--hook" style="color: inherit; text-decoration: none;">
  <h3>React Context + Hook</h3>
</a>
<p>In order to get the colors always refreshed when the palette is being regenerated on the native side, it&#39;s necessary to wrap your app with <code>MaterialYouService</code> and get the palette from the context, by using <code>useMaterialYouPalette</code> or <code>useMaterialYouContext</code> hooks.
The service subscribes to palette changes on the native side and updates the context when the palette is changed.</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">MaterialYouService</span><span class="hl-1">, </span><span class="hl-0">useMaterialYouPalette</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@assembless/react-native-material-you&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">App</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">    &lt;</span><span class="hl-6">MaterialYouService</span><span class="hl-1">&gt;</span><br/><span class="hl-1">        {...}</span><br/><span class="hl-1">    &lt;/</span><span class="hl-0">MaterialYouService</span><span class="hl-1">&gt;</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MyComponent</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">palette</span><span class="hl-1"> = </span><span class="hl-5">useMaterialYouPalette</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> (</span><br/><span class="hl-1">        &lt;</span><span class="hl-0">View</span><span class="hl-1"> </span><span class="hl-0">style</span><span class="hl-1">={{ </span><span class="hl-0">backgroundColor:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_neutral2</span><span class="hl-1">[</span><span class="hl-8">2</span><span class="hl-1">] }}&gt;</span><br/><span class="hl-1">            &lt;</span><span class="hl-0">Text</span><span class="hl-1"> </span><span class="hl-0">style</span><span class="hl-1">={{ </span><span class="hl-0">color:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_accent1</span><span class="hl-1">[</span><span class="hl-8">6</span><span class="hl-1">] }}&gt;</span><span class="hl-0">Hello</span><span class="hl-1"> </span><span class="hl-0">World</span><span class="hl-1">&lt;/</span><span class="hl-0">Text</span><span class="hl-1">&gt;</span><br/><span class="hl-1">        &lt;/</span><span class="hl-0">View</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#react-hook" id="react-hook" style="color: inherit; text-decoration: none;">
  <h3>React Hook</h3>
</a>
<p>Alternatively, you can use the <code>useMaterialYou</code> hook that returns the system generated color palette. In order to get the newest palette, run the <code>_refresh</code> method exposed by the hook.</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">useMaterialYou</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@assembless/react-native-material-you&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MyComponent</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">palette</span><span class="hl-1"> } = </span><span class="hl-5">useMaterialYou</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> (</span><br/><span class="hl-1">        &lt;</span><span class="hl-0">View</span><span class="hl-1"> </span><span class="hl-0">style</span><span class="hl-1">={{ </span><span class="hl-0">backgroundColor:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_neutral2</span><span class="hl-1">[</span><span class="hl-8">2</span><span class="hl-1">] }}&gt;</span><br/><span class="hl-1">            &lt;</span><span class="hl-0">Text</span><span class="hl-1"> </span><span class="hl-0">style</span><span class="hl-1">={{ </span><span class="hl-0">color:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_accent1</span><span class="hl-1">[</span><span class="hl-8">6</span><span class="hl-1">] }}&gt;</span><span class="hl-0">Hello</span><span class="hl-1"> </span><span class="hl-0">World</span><span class="hl-1">&lt;/</span><span class="hl-0">Text</span><span class="hl-1">&gt;</span><br/><span class="hl-1">        &lt;/</span><span class="hl-0">View</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#static-methods" id="static-methods" style="color: inherit; text-decoration: none;">
  <h2>Static methods</h2>
</a>

<a href="#get-palette-synchronously" id="get-palette-synchronously" style="color: inherit; text-decoration: none;">
  <h3>Get palette synchronously</h3>
</a>
<p>The <code>getPaletteSync</code> function returns a rich palette of 5 system generated colors (<code>system_accent1</code>, <code>system_accent2</code>, <code>system_accent3</code>, <code>system_neutral1</code>, <code>system_neutral2</code>) and each containing 12 shades of Material color in hex strings that are used to determine the hues closest to the user‚Äôs wallpaper. The color constants are passed from the native module. Check out the <a href="https://developer.android.com/reference/android/R.color#system_accent1_0">Android documentation</a> for more details about system generated colors.</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">getPaletteSync</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@assembless/react-native-material-you&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">palette</span><span class="hl-1"> = </span><span class="hl-5">getPaletteSync</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">theme</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">palette:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">primary:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_accent1</span><span class="hl-1">[</span><span class="hl-8">6</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-0">background:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_neutral2</span><span class="hl-1">[</span><span class="hl-8">2</span><span class="hl-1">],</span><br/><span class="hl-1">        ...</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code></pre>
<blockquote>
<p>‚ö†Ô∏è This function only returns constant colors generated at runtime once. If you want to get the colors regenerated while the app is already running, you need to use the <code>getPalette</code> function which is asynchronous.</p>
</blockquote>

<a href="#get-palette-asynchronously" id="get-palette-asynchronously" style="color: inherit; text-decoration: none;">
  <h3>Get palette asynchronously</h3>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">getPalette</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@assembless/react-native-material-you&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">createTheme</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">palette</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-5">getPalette</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> ({</span><br/><span class="hl-1">        </span><span class="hl-0">palette:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">primary:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_accent1</span><span class="hl-1">[</span><span class="hl-8">6</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-0">background:</span><span class="hl-1"> </span><span class="hl-0">palette</span><span class="hl-1">.</span><span class="hl-0">system_neutral2</span><span class="hl-1">[</span><span class="hl-8">2</span><span class="hl-1">],</span><br/><span class="hl-1">            ...</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p>Coming soon!</p>

<a href="#how-to-debug" id="how-to-debug" style="color: inherit; text-decoration: none;">
  <h2>How to debug</h2>
</a>
<ol>
<li>Install dependencies (in root dir and ./example dir)</li>
<li>Open the <code>example</code> directory project in Android Studio, build and run the project. (<code>./example/android</code>)</li>
<li>Run <code>yarn start</code> in the <code>example</code> directory.</li>
</ol>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-type-alias"><a href="modules.html#MaterialYouPalette" class="tsd-kind-icon">Material<wbr/>You<wbr/>Palette</a></li><li class="tsd-kind-function"><a href="modules.html#MaterialYouService" class="tsd-kind-icon">Material<wbr/>You<wbr/>Service</a></li><li class="tsd-kind-function"><a href="modules.html#deviceSupportsMaterialYou" class="tsd-kind-icon">device<wbr/>Supports<wbr/>Material<wbr/>You</a></li><li class="tsd-kind-function"><a href="modules.html#getPalette" class="tsd-kind-icon">get<wbr/>Palette</a></li><li class="tsd-kind-function"><a href="modules.html#getPaletteSync" class="tsd-kind-icon">get<wbr/>Palette<wbr/>Sync</a></li><li class="tsd-kind-function"><a href="modules.html#useMaterialYou" class="tsd-kind-icon">use<wbr/>Material<wbr/>You</a></li><li class="tsd-kind-function"><a href="modules.html#useMaterialYouPalette" class="tsd-kind-icon">use<wbr/>Material<wbr/>You<wbr/>Palette</a></li><li class="tsd-kind-function"><a href="modules.html#useMaterialYouService" class="tsd-kind-icon">use<wbr/>Material<wbr/>You<wbr/>Service</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>